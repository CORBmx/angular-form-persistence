{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///angular-form-persistence.min.js","webpack:///webpack/bootstrap 531ebc39b4f1af0f83d7","webpack:///./src/formPersistence.js","webpack:///./src/formPersistence.provider.js","webpack:///./~/store/store.js","webpack:///./src/formPersistence.directive.js"],"names":["root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","id","loaded","call","m","c","p","formPersistence","angular","name","_interopRequireDefault","obj","__esModule","default","_this","prefix","setPrefix","$get","prefixKey","key","self","saveData","data","onSave","key_name","Object","getOwnPropertyNames","length","_store2","set","loadData","onLoad","get","clearKey","remove","clearAll","clear","save","load","_store","provider","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","apply","undefined","isLocalStorageNameSupported","localStorageName","win","err","storage","store","window","doc","document","scriptTag","disabled","version","value","defaultVal","has","transact","transactionFn","val","getAll","forEach","serialize","JSON","stringify","deserialize","parse","e","setItem","getItem","removeItem","ret","callback","i","documentElement","addBehavior","storageOwner","storageContainer","ActiveXObject","open","write","close","w","frames","createElement","body","withIEStorage","storeFunction","args","Array","prototype","slice","arguments","unshift","appendChild","result","removeChild","forbiddenCharsRegex","RegExp","ieKeyFix","replace","setAttribute","getAttribute","removeAttribute","attributes","XMLDocument","attr","testKey","enabled","$timeout","restrict","scope","link","handleModelChange","isObject","_extends","debound","cancel","DEBOUND_DELAY","$watch","$inject","assign","target","source","hasOwnProperty","directive"],"mappings":"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","file":"angular-form-persistence.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"angular-form-persistence\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-form-persistence\"] = factory();\n\telse\n\t\troot[\"angular-form-persistence\"] = factory();\n})(this, function() {\nreturn \n\n\n/** WEBPACK FOOTER **\n ** webpack/universalModuleDefinition\n **/","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"angular-form-persistence\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"angular-form-persistence\"] = factory();\n\telse\n\t\troot[\"angular-form-persistence\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t__webpack_require__(1);\n\t__webpack_require__(2);\n\tmodule.exports = __webpack_require__(4);\n\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\t// Create module\n\tvar formPersistence = angular.module('formPersistence', []);\n\t\n\tmodule.exports = formPersistence.name;\n\n/***/ },\n/* 2 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _store = __webpack_require__(3);\n\t\n\tvar _store2 = _interopRequireDefault(_store);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tangular.module('formPersistence').provider('formPersistence', formPersistence);\n\t\n\tfunction formPersistence() {\n\t    var _this = this;\n\t\n\t    this.prefix = 'fp';\n\t\n\t    /**\n\t     * Prefix setter\n\t     * @author Andrés Ávila <andres.avila@corb.mx>\n\t     * @version 0.0.1\n\t     * @since   0.0.1\n\t     * @param   {string} prefix  prefix attached to all the keys\n\t     * @return  {object}         provider reference\n\t     */\n\t    this.setPrefix = function (prefix) {\n\t        _this.prefix = prefix;\n\t\n\t        return _this;\n\t    };\n\t\n\t    this.$get = function () {\n\t        var self = _this;\n\t\n\t        return {\n\t            save: saveData,\n\t            load: loadData,\n\t            clear: clearKey,\n\t            clearAll: clearAll\n\t        };\n\t\n\t        /**\n\t         * Key prefixer\n\t         * @author Andrés Ávila <andres.avila@corb.mx>\n\t         * @version 0.0.1\n\t         * @since   0.0.1\n\t         * @param   {string} key  raw key\n\t         * @return  {string}      prefixed key\n\t         */\n\t        function prefixKey(key) {\n\t            return self.prefix + '.' + key;\n\t        }\n\t\n\t        /**\n\t         * Save data manually in local storage\n\t         * @author Andrés Ávila <andres.avila@corb.mx>\n\t         * @version 0.0.1\n\t         * @since   0.0.1\n\t         * @param   {string}   key     Data key\n\t         * @param   {object}   data    Data to be stored\n\t         * @param   {function} onSave  Optional function to handle the data before is stored\n\t         */\n\t        function saveData(key, data, onSave) {\n\t            var key_name = prefixKey(key);\n\t\n\t            data = onSave(data) || data;\n\t\n\t            if (Object.getOwnPropertyNames(data).length) {\n\t                _store2.default.set(key_name, data);\n\t            }\n\t        }\n\t\n\t        /**\n\t         * Load data from local storage\n\t         * @author Andrés Ávila <andres.avila@corb.mx>\n\t         * @version 0.0.1\n\t         * @since   0.0.1\n\t         * @param   {string}   key     Data key\n\t         * @param   {function} onLoad  Optional function to handle the data before is loaded\n\t         * @return  Data stored or onLoad results\n\t         */\n\t        function loadData(key, onLoad) {\n\t            var data = void 0;\n\t            var key_name = prefixKey(key);\n\t\n\t            data = _store2.default.get(key_name);\n\t\n\t            return onLoad(data) || data;\n\t        }\n\t\n\t        /**\n\t         * Remove data stored with the given key\n\t         * @author Andrés Ávila <andres.avila@corb.mx>\n\t         * @version 0.0.1\n\t         * @since   0.0.1\n\t         * @param   {string} key  Data key\n\t         */\n\t        function clearKey(key) {\n\t            _store2.default.remove(prefixKey(key));\n\t        }\n\t\n\t        /**\n\t         * Remove all stored data and keys\n\t         * @author Andrés Ávila <andres.avila@corb.mx>\n\t         * @version 0.0.1\n\t         * @since   0.0.1\n\t         */\n\t        function clearAll() {\n\t            _store2.default.clear();\n\t        }\n\t    };\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports, __webpack_require__) {\n\n\tvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* WEBPACK VAR INJECTION */(function(global) {\"use strict\"\n\t// Module export pattern from\n\t// https://github.com/umdjs/umd/blob/master/returnExports.js\n\t;(function (root, factory) {\n\t    if (true) {\n\t        // AMD. Register as an anonymous module.\n\t        !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory), __WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ? (__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__), __WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t    } else if (typeof exports === 'object') {\n\t        // Node. Does not work with strict CommonJS, but\n\t        // only CommonJS-like environments that support module.exports,\n\t        // like Node.\n\t        module.exports = factory();\n\t    } else {\n\t        // Browser globals (root is window)\n\t        root.store = factory();\n\t  }\n\t}(this, function () {\n\t\t\n\t\t// Store.js\n\t\tvar store = {},\n\t\t\twin = (typeof window != 'undefined' ? window : global),\n\t\t\tdoc = win.document,\n\t\t\tlocalStorageName = 'localStorage',\n\t\t\tscriptTag = 'script',\n\t\t\tstorage\n\t\n\t\tstore.disabled = false\n\t\tstore.version = '1.3.20'\n\t\tstore.set = function(key, value) {}\n\t\tstore.get = function(key, defaultVal) {}\n\t\tstore.has = function(key) { return store.get(key) !== undefined }\n\t\tstore.remove = function(key) {}\n\t\tstore.clear = function() {}\n\t\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\t\tif (transactionFn == null) {\n\t\t\t\ttransactionFn = defaultVal\n\t\t\t\tdefaultVal = null\n\t\t\t}\n\t\t\tif (defaultVal == null) {\n\t\t\t\tdefaultVal = {}\n\t\t\t}\n\t\t\tvar val = store.get(key, defaultVal)\n\t\t\ttransactionFn(val)\n\t\t\tstore.set(key, val)\n\t\t}\n\t\tstore.getAll = function() {}\n\t\tstore.forEach = function() {}\n\t\n\t\tstore.serialize = function(value) {\n\t\t\treturn JSON.stringify(value)\n\t\t}\n\t\tstore.deserialize = function(value) {\n\t\t\tif (typeof value != 'string') { return undefined }\n\t\t\ttry { return JSON.parse(value) }\n\t\t\tcatch(e) { return value || undefined }\n\t\t}\n\t\n\t\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t\t// when about.config::dom.storage.enabled === false\n\t\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\t\tfunction isLocalStorageNameSupported() {\n\t\t\ttry { return (localStorageName in win && win[localStorageName]) }\n\t\t\tcatch(err) { return false }\n\t\t}\n\t\n\t\tif (isLocalStorageNameSupported()) {\n\t\t\tstorage = win[localStorageName]\n\t\t\tstore.set = function(key, val) {\n\t\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\t\tstorage.setItem(key, store.serialize(val))\n\t\t\t\treturn val\n\t\t\t}\n\t\t\tstore.get = function(key, defaultVal) {\n\t\t\t\tvar val = store.deserialize(storage.getItem(key))\n\t\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t\t}\n\t\t\tstore.remove = function(key) { storage.removeItem(key) }\n\t\t\tstore.clear = function() { storage.clear() }\n\t\t\tstore.getAll = function() {\n\t\t\t\tvar ret = {}\n\t\t\t\tstore.forEach(function(key, val) {\n\t\t\t\t\tret[key] = val\n\t\t\t\t})\n\t\t\t\treturn ret\n\t\t\t}\n\t\t\tstore.forEach = function(callback) {\n\t\t\t\tfor (var i=0; i<storage.length; i++) {\n\t\t\t\t\tvar key = storage.key(i)\n\t\t\t\t\tcallback(key, store.get(key))\n\t\t\t\t}\n\t\t\t}\n\t\t} else if (doc && doc.documentElement.addBehavior) {\n\t\t\tvar storageOwner,\n\t\t\t\tstorageContainer\n\t\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t\t// since the iframe access rules appear to allow direct access and\n\t\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t\t// document can be used instead of the current document (which would\n\t\t\t// have been limited to the current path) to perform #userData storage.\n\t\t\ttry {\n\t\t\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\t\t\tstorageContainer.open()\n\t\t\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\t\t\tstorageContainer.close()\n\t\t\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\t\t\tstorage = storageOwner.createElement('div')\n\t\t\t} catch(e) {\n\t\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\t\tstorage = doc.createElement('div')\n\t\t\t\tstorageOwner = doc.body\n\t\t\t}\n\t\t\tvar withIEStorage = function(storeFunction) {\n\t\t\t\treturn function() {\n\t\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0)\n\t\t\t\t\targs.unshift(storage)\n\t\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\t\tstorageOwner.appendChild(storage)\n\t\t\t\t\tstorage.addBehavior('#default#userData')\n\t\t\t\t\tstorage.load(localStorageName)\n\t\t\t\t\tvar result = storeFunction.apply(store, args)\n\t\t\t\t\tstorageOwner.removeChild(storage)\n\t\t\t\t\treturn result\n\t\t\t\t}\n\t\t\t}\n\t\n\t\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\n\t\t\tvar ieKeyFix = function(key) {\n\t\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')\n\t\t\t}\n\t\t\tstore.set = withIEStorage(function(storage, key, val) {\n\t\t\t\tkey = ieKeyFix(key)\n\t\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\t\tstorage.setAttribute(key, store.serialize(val))\n\t\t\t\tstorage.save(localStorageName)\n\t\t\t\treturn val\n\t\t\t})\n\t\t\tstore.get = withIEStorage(function(storage, key, defaultVal) {\n\t\t\t\tkey = ieKeyFix(key)\n\t\t\t\tvar val = store.deserialize(storage.getAttribute(key))\n\t\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t\t})\n\t\t\tstore.remove = withIEStorage(function(storage, key) {\n\t\t\t\tkey = ieKeyFix(key)\n\t\t\t\tstorage.removeAttribute(key)\n\t\t\t\tstorage.save(localStorageName)\n\t\t\t})\n\t\t\tstore.clear = withIEStorage(function(storage) {\n\t\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\t\tstorage.load(localStorageName)\n\t\t\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\t\t\tstorage.removeAttribute(attributes[i].name)\n\t\t\t\t}\n\t\t\t\tstorage.save(localStorageName)\n\t\t\t})\n\t\t\tstore.getAll = function(storage) {\n\t\t\t\tvar ret = {}\n\t\t\t\tstore.forEach(function(key, val) {\n\t\t\t\t\tret[key] = val\n\t\t\t\t})\n\t\t\t\treturn ret\n\t\t\t}\n\t\t\tstore.forEach = withIEStorage(function(storage, callback) {\n\t\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\t\tfor (var i=0, attr; attr=attributes[i]; ++i) {\n\t\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)))\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\n\t\ttry {\n\t\t\tvar testKey = '__storejs__'\n\t\t\tstore.set(testKey, testKey)\n\t\t\tif (store.get(testKey) != testKey) { store.disabled = true }\n\t\t\tstore.remove(testKey)\n\t\t} catch(e) {\n\t\t\tstore.disabled = true\n\t\t}\n\t\tstore.enabled = !store.disabled\n\t\t\n\t\treturn store\n\t}));\n\t\n\t/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tformPersistence.$inject = [\"$timeout\", \"formPersistence\"];\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tangular.module('formPersistence').directive('formPersistence', formPersistence);\n\t\n\tvar DEBOUND_DELAY = 400;\n\t\n\t/**\n\t * formPersistence directive\n\t * @author Andrés Ávila <andres.avila@corb.mx>\n\t * @version 0.0.1\n\t * @since   0.0.1\n\t * @param   {object} $timeout               Timeout service\n\t * @param   {object} formPersistence        formPersistence service\n\t * @return  {object}                        Directive instance\n\t */\n\tfunction formPersistence($timeout, formPersistence) {\n\t    'ngInject';\n\t\n\t    return {\n\t        restrict: 'A',\n\t        scope: {\n\t            key: '@formPersistence',\n\t            data: '=saveData',\n\t            onSave: '&?beforeSave',\n\t            onLoad: '&?beforeLoad'\n\t        },\n\t        link: function link(scope) {\n\t            var debound = void 0;\n\t\n\t            scope.data = formPersistence.load(scope.key, scope.onLoad);\n\t\n\t            scope.$watch(function () {\n\t                return scope.data;\n\t            }, handleModelChange, true);\n\t\n\t            /**\n\t             * Changes handler\n\t             * @author Andrés Ávila <andres.avila@corb.mx>\n\t             * @version 0.0.1\n\t             * @since   0.0.1\n\t             */\n\t            function handleModelChange() {\n\t                var data = void 0;\n\t                var key = void 0;\n\t\n\t                key = scope.key;\n\t\n\t                if (angular.isObject()) {\n\t                    // copy object\n\t                    data = _extends({}, scope.data);\n\t                }\n\t\n\t                if (debound) {\n\t                    $timeout.cancel(debound);\n\t                }\n\t\n\t                debound = $timeout(function () {\n\t                    formPersistence.save(key, data, scope.onSave);\n\t                }, DEBOUND_DELAY);\n\t            }\n\t        }\n\t    };\n\t};\n\n/***/ }\n/******/ ])\n});\n;\n\n\n/** WEBPACK FOOTER **\n ** angular-form-persistence.min.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 531ebc39b4f1af0f83d7\n **/","\n// Create module\nlet formPersistence = angular.module('formPersistence', []);\n\nmodule.exports = formPersistence.name;\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/formPersistence.js\n **/","import store from 'store';\n\nangular\n    .module('formPersistence')\n    .provider('formPersistence', formPersistence)\n\n\nfunction formPersistence() {\n    this.prefix = 'fp';\n\n    /**\n     * Prefix setter\n     * @author Andrés Ávila <andres.avila@corb.mx>\n     * @version 0.0.1\n     * @since   0.0.1\n     * @param   {string} prefix  prefix attached to all the keys\n     * @return  {object}         provider reference\n     */\n    this.setPrefix = (prefix) => {\n        this.prefix = prefix;\n\n        return this;\n    };\n\n    this.$get = () => {\n        let self = this;\n\n        return {\n            save: saveData,\n            load: loadData,\n            clear: clearKey,\n            clearAll: clearAll,\n        };\n\n        /**\n         * Key prefixer\n         * @author Andrés Ávila <andres.avila@corb.mx>\n         * @version 0.0.1\n         * @since   0.0.1\n         * @param   {string} key  raw key\n         * @return  {string}      prefixed key\n         */\n        function prefixKey(key) {\n            return `${self.prefix}.${key}`;\n        }\n\n        /**\n         * Save data manually in local storage\n         * @author Andrés Ávila <andres.avila@corb.mx>\n         * @version 0.0.1\n         * @since   0.0.1\n         * @param   {string}   key     Data key\n         * @param   {object}   data    Data to be stored\n         * @param   {function} onSave  Optional function to handle the data before is stored\n         */\n        function saveData(key, data, onSave) {\n            let key_name = prefixKey(key);\n\n            data = onSave(data) || data;\n\n            if (Object.getOwnPropertyNames(data).length) {\n                store.set(key_name, data);\n            }\n        }\n\n        /**\n         * Load data from local storage\n         * @author Andrés Ávila <andres.avila@corb.mx>\n         * @version 0.0.1\n         * @since   0.0.1\n         * @param   {string}   key     Data key\n         * @param   {function} onLoad  Optional function to handle the data before is loaded\n         * @return  Data stored or onLoad results\n         */\n        function loadData(key, onLoad) {\n            let data;\n            let key_name = prefixKey(key);\n\n            data = store.get(key_name)\n\n            return onLoad(data) || data;\n        }\n\n        /**\n         * Remove data stored with the given key\n         * @author Andrés Ávila <andres.avila@corb.mx>\n         * @version 0.0.1\n         * @since   0.0.1\n         * @param   {string} key  Data key\n         */\n        function clearKey(key) {\n            store.remove(prefixKey(key));\n        }\n\n        /**\n         * Remove all stored data and keys\n         * @author Andrés Ávila <andres.avila@corb.mx>\n         * @version 0.0.1\n         * @since   0.0.1\n         */\n        function clearAll() {\n            store.clear();\n        }\n    };\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/formPersistence.provider.js\n **/","\"use strict\"\n// Module export pattern from\n// https://github.com/umdjs/umd/blob/master/returnExports.js\n;(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.store = factory();\n  }\n}(this, function () {\n\t\n\t// Store.js\n\tvar store = {},\n\t\twin = (typeof window != 'undefined' ? window : global),\n\t\tdoc = win.document,\n\t\tlocalStorageName = 'localStorage',\n\t\tscriptTag = 'script',\n\t\tstorage\n\n\tstore.disabled = false\n\tstore.version = '1.3.20'\n\tstore.set = function(key, value) {}\n\tstore.get = function(key, defaultVal) {}\n\tstore.has = function(key) { return store.get(key) !== undefined }\n\tstore.remove = function(key) {}\n\tstore.clear = function() {}\n\tstore.transact = function(key, defaultVal, transactionFn) {\n\t\tif (transactionFn == null) {\n\t\t\ttransactionFn = defaultVal\n\t\t\tdefaultVal = null\n\t\t}\n\t\tif (defaultVal == null) {\n\t\t\tdefaultVal = {}\n\t\t}\n\t\tvar val = store.get(key, defaultVal)\n\t\ttransactionFn(val)\n\t\tstore.set(key, val)\n\t}\n\tstore.getAll = function() {}\n\tstore.forEach = function() {}\n\n\tstore.serialize = function(value) {\n\t\treturn JSON.stringify(value)\n\t}\n\tstore.deserialize = function(value) {\n\t\tif (typeof value != 'string') { return undefined }\n\t\ttry { return JSON.parse(value) }\n\t\tcatch(e) { return value || undefined }\n\t}\n\n\t// Functions to encapsulate questionable FireFox 3.6.13 behavior\n\t// when about.config::dom.storage.enabled === false\n\t// See https://github.com/marcuswestin/store.js/issues#issue/13\n\tfunction isLocalStorageNameSupported() {\n\t\ttry { return (localStorageName in win && win[localStorageName]) }\n\t\tcatch(err) { return false }\n\t}\n\n\tif (isLocalStorageNameSupported()) {\n\t\tstorage = win[localStorageName]\n\t\tstore.set = function(key, val) {\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setItem(key, store.serialize(val))\n\t\t\treturn val\n\t\t}\n\t\tstore.get = function(key, defaultVal) {\n\t\t\tvar val = store.deserialize(storage.getItem(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t}\n\t\tstore.remove = function(key) { storage.removeItem(key) }\n\t\tstore.clear = function() { storage.clear() }\n\t\tstore.getAll = function() {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = function(callback) {\n\t\t\tfor (var i=0; i<storage.length; i++) {\n\t\t\t\tvar key = storage.key(i)\n\t\t\t\tcallback(key, store.get(key))\n\t\t\t}\n\t\t}\n\t} else if (doc && doc.documentElement.addBehavior) {\n\t\tvar storageOwner,\n\t\t\tstorageContainer\n\t\t// Since #userData storage applies only to specific paths, we need to\n\t\t// somehow link our data to a specific path.  We choose /favicon.ico\n\t\t// as a pretty safe option, since all browsers already make a request to\n\t\t// this URL anyway and being a 404 will not hurt us here.  We wrap an\n\t\t// iframe pointing to the favicon in an ActiveXObject(htmlfile) object\n\t\t// (see: http://msdn.microsoft.com/en-us/library/aa752574(v=VS.85).aspx)\n\t\t// since the iframe access rules appear to allow direct access and\n\t\t// manipulation of the document element, even for a 404 page.  This\n\t\t// document can be used instead of the current document (which would\n\t\t// have been limited to the current path) to perform #userData storage.\n\t\ttry {\n\t\t\tstorageContainer = new ActiveXObject('htmlfile')\n\t\t\tstorageContainer.open()\n\t\t\tstorageContainer.write('<'+scriptTag+'>document.w=window</'+scriptTag+'><iframe src=\"/favicon.ico\"></iframe>')\n\t\t\tstorageContainer.close()\n\t\t\tstorageOwner = storageContainer.w.frames[0].document\n\t\t\tstorage = storageOwner.createElement('div')\n\t\t} catch(e) {\n\t\t\t// somehow ActiveXObject instantiation failed (perhaps some special\n\t\t\t// security settings or otherwse), fall back to per-path storage\n\t\t\tstorage = doc.createElement('div')\n\t\t\tstorageOwner = doc.body\n\t\t}\n\t\tvar withIEStorage = function(storeFunction) {\n\t\t\treturn function() {\n\t\t\t\tvar args = Array.prototype.slice.call(arguments, 0)\n\t\t\t\targs.unshift(storage)\n\t\t\t\t// See http://msdn.microsoft.com/en-us/library/ms531081(v=VS.85).aspx\n\t\t\t\t// and http://msdn.microsoft.com/en-us/library/ms531424(v=VS.85).aspx\n\t\t\t\tstorageOwner.appendChild(storage)\n\t\t\t\tstorage.addBehavior('#default#userData')\n\t\t\t\tstorage.load(localStorageName)\n\t\t\t\tvar result = storeFunction.apply(store, args)\n\t\t\t\tstorageOwner.removeChild(storage)\n\t\t\t\treturn result\n\t\t\t}\n\t\t}\n\n\t\t// In IE7, keys cannot start with a digit or contain certain chars.\n\t\t// See https://github.com/marcuswestin/store.js/issues/40\n\t\t// See https://github.com/marcuswestin/store.js/issues/83\n\t\tvar forbiddenCharsRegex = new RegExp(\"[!\\\"#$%&'()*+,/\\\\\\\\:;<=>?@[\\\\]^`{|}~]\", \"g\")\n\t\tvar ieKeyFix = function(key) {\n\t\t\treturn key.replace(/^d/, '___$&').replace(forbiddenCharsRegex, '___')\n\t\t}\n\t\tstore.set = withIEStorage(function(storage, key, val) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tif (val === undefined) { return store.remove(key) }\n\t\t\tstorage.setAttribute(key, store.serialize(val))\n\t\t\tstorage.save(localStorageName)\n\t\t\treturn val\n\t\t})\n\t\tstore.get = withIEStorage(function(storage, key, defaultVal) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tvar val = store.deserialize(storage.getAttribute(key))\n\t\t\treturn (val === undefined ? defaultVal : val)\n\t\t})\n\t\tstore.remove = withIEStorage(function(storage, key) {\n\t\t\tkey = ieKeyFix(key)\n\t\t\tstorage.removeAttribute(key)\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.clear = withIEStorage(function(storage) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tstorage.load(localStorageName)\n\t\t\tfor (var i=attributes.length-1; i>=0; i--) {\n\t\t\t\tstorage.removeAttribute(attributes[i].name)\n\t\t\t}\n\t\t\tstorage.save(localStorageName)\n\t\t})\n\t\tstore.getAll = function(storage) {\n\t\t\tvar ret = {}\n\t\t\tstore.forEach(function(key, val) {\n\t\t\t\tret[key] = val\n\t\t\t})\n\t\t\treturn ret\n\t\t}\n\t\tstore.forEach = withIEStorage(function(storage, callback) {\n\t\t\tvar attributes = storage.XMLDocument.documentElement.attributes\n\t\t\tfor (var i=0, attr; attr=attributes[i]; ++i) {\n\t\t\t\tcallback(attr.name, store.deserialize(storage.getAttribute(attr.name)))\n\t\t\t}\n\t\t})\n\t}\n\n\ttry {\n\t\tvar testKey = '__storejs__'\n\t\tstore.set(testKey, testKey)\n\t\tif (store.get(testKey) != testKey) { store.disabled = true }\n\t\tstore.remove(testKey)\n\t} catch(e) {\n\t\tstore.disabled = true\n\t}\n\tstore.enabled = !store.disabled\n\t\n\treturn store\n}));\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/store/store.js\n ** module id = 3\n ** module chunks = 0\n **/","angular\n    .module('formPersistence')\n    .directive('formPersistence', formPersistence);\n\nconst DEBOUND_DELAY = 400;\n\n/**\n * formPersistence directive\n * @author Andrés Ávila <andres.avila@corb.mx>\n * @version 0.0.1\n * @since   0.0.1\n * @param   {object} $timeout               Timeout service\n * @param   {object} formPersistence        formPersistence service\n * @return  {object}                        Directive instance\n */\nfunction formPersistence($timeout, formPersistence) {\n    'ngInject';\n\n    return {\n        restrict: 'A',\n        scope: {\n            key: '@formPersistence',\n            data: '=saveData',\n            onSave: '&?beforeSave',\n            onLoad: '&?beforeLoad'\n        },\n        link: function (scope) {\n            let debound;\n\n            scope.data = formPersistence.load(scope.key, scope.onLoad);\n\n            scope.$watch(() => {\n                return scope.data;\n            }, handleModelChange, true);\n\n            /**\n             * Changes handler\n             * @author Andrés Ávila <andres.avila@corb.mx>\n             * @version 0.0.1\n             * @since   0.0.1\n             */\n            function handleModelChange() {\n                let data;\n                let key;\n\n                key = scope.key;\n\n                if (angular.isObject()) {\n                    // copy object\n                    data = {...scope.data};\n                }\n\n                if (debound) {\n                    $timeout.cancel(debound);\n                }\n\n                debound = $timeout(() => {\n                    formPersistence.save(key, data, scope.onSave);\n                }, DEBOUND_DELAY);\n            }\n        }\n    }\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/formPersistence.directive.js\n **/"],"sourceRoot":""}