!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("angular-form-persistence",[],t):"object"==typeof exports?exports["angular-form-persistence"]=t():e["angular-form-persistence"]=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){n(1),n(2),e.exports=n(4)},function(e,t){"use strict";var n=angular.module("formPersistence",[]);e.exports=n.name},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=this;this.prefix="fp",this.setPrefix=function(t){return e.prefix=t,e},this.$get=function(){function t(e){return c.prefix+"."+e}function n(e,n,r){var o=t(e);n=r(n)||n,Object.getOwnPropertyNames(n).length&&a["default"].set(o,n)}function r(e,n){var r=void 0,o=t(e);return r=a["default"].get(o),n(r)||r}function o(e){a["default"].remove(t(e))}function i(){a["default"].clear()}var c=e;return{save:n,load:r,clear:o,clearAll:i}}}var i=n(3),a=r(i);angular.module("formPersistence").provider("formPersistence",o)},function(e,t,n){var r,o,i;(function(n){"use strict";!function(n,a){o=[],r=a,i="function"==typeof r?r.apply(t,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(){try{return a in o&&o[a]}catch(e){return!1}}var t,r={},o="undefined"!=typeof window?window:n,i=o.document,a="localStorage",c="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(e,t){},r.get=function(e,t){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,t,n){null==n&&(n=t,t=null),null==t&&(t={});var o=r.get(e,t);n(o),r.set(e,o)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}},e())t=o[a],r.set=function(e,n){return void 0===n?r.remove(e):(t.setItem(e,r.serialize(n)),n)},r.get=function(e,n){var o=r.deserialize(t.getItem(e));return void 0===o?n:o},r.remove=function(e){t.removeItem(e)},r.clear=function(){t.clear()},r.getAll=function(){var e={};return r.forEach(function(t,n){e[t]=n}),e},r.forEach=function(e){for(var n=0;n<t.length;n++){var o=t.key(n);e(o,r.get(o))}};else if(i&&i.documentElement.addBehavior){var u,f;try{f=new ActiveXObject("htmlfile"),f.open(),f.write("<"+c+">document.w=window</"+c+'><iframe src="/favicon.ico"></iframe>'),f.close(),u=f.w.frames[0].document,t=u.createElement("div")}catch(s){t=i.createElement("div"),u=i.body}var l=function(e){return function(){var n=Array.prototype.slice.call(arguments,0);n.unshift(t),u.appendChild(t),t.addBehavior("#default#userData"),t.load(a);var o=e.apply(r,n);return u.removeChild(t),o}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),v=function(e){return e.replace(/^d/,"___$&").replace(d,"___")};r.set=l(function(e,t,n){return t=v(t),void 0===n?r.remove(t):(e.setAttribute(t,r.serialize(n)),e.save(a),n)}),r.get=l(function(e,t,n){t=v(t);var o=r.deserialize(e.getAttribute(t));return void 0===o?n:o}),r.remove=l(function(e,t){t=v(t),e.removeAttribute(t),e.save(a)}),r.clear=l(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(a);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(a)}),r.getAll=function(e){var t={};return r.forEach(function(e,n){t[e]=n}),t},r.forEach=l(function(e,t){for(var n,o=e.XMLDocument.documentElement.attributes,i=0;n=o[i];++i)t(n.name,r.deserialize(e.getAttribute(n.name)))})}try{var m="__storejs__";r.set(m,m),r.get(m)!=m&&(r.disabled=!0),r.remove(m)}catch(s){r.disabled=!0}return r.enabled=!r.disabled,r})}).call(t,function(){return this}())},function(e,t){"use strict";function n(e,t){"ngInject";return{restrict:"A",scope:{key:"@formPersistence",data:"=saveData",onSave:"&?beforeSave",onLoad:"&?beforeLoad"},link:function(n){function i(){var i=void 0,c=void 0;c=n.key,angular.isObject()&&(i=r({},n.data)),a&&e.cancel(a),a=e(function(){t.save(c,i,n.onSave)},o)}var a=void 0;n.data=t.load(n.key,n.onLoad),n.$watch(function(){return n.data},i,!0)}}}n.$inject=["$timeout","formPersistence"];var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};angular.module("formPersistence").directive("formPersistence",n);var o=400}])});
//# sourceMappingURL=angular-form-persistence.min.js.map